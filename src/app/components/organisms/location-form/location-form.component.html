<form [formGroup]="locationForm" (ngSubmit)="createLocation()">
  <section class="white-section">
    <div class="form-group">
      <app-department-select
        formControlName="department"
        (departmentChange)="onDepartmentChange($event)">
        <option value="">Seleccione un departamento</option>
      </app-department-select>
    </div>

    <div class="form-group">
      <app-city-select
        [departmentId]="selectedDepartmentId"
        formControlName="city">
        <option value="">Seleccione una ciudad</option>
      </app-city-select>
    </div>
  

    <div class="form-group">
      <app-input
        formControlName="neighborhood"
        id="barrio"
        label="Barrio"
        [required]="true"
        [disabled]="disabled"
        placeholder="Ingrese el nombre del barrio"
        [ngClass]="locationForm.get('neighborhood')?.touched && locationForm.get('neighborhood')?.invalid ? 'input-error' : ''"
      ></app-input>
      <div *ngIf="locationForm.get('neighborhood')?.touched && locationForm.get('neighborhood')?.invalid" class="error-message">
        <div *ngIf="locationForm.get('neighborhood')?.errors?.['required']">
          El barrio es requerido.
        </div>
        <div *ngIf="locationForm.get('neighborhood')?.errors?.['maxlength']" class="error-message">
          Por favor, introduce m√°ximo 50 caracteres.
        </div>

        <div *ngIf="locationForm.get('neighborhood')?.errors?.['minlength']" class="error-message">
          Por favor, introduce al menos 3 caracteres.
        </div>
      </div>
    </div>

    <div class="form-actions">
      <app-button 
        type="primary"
        [isSubmit]="true"
        [disabled]="locationForm.invalid"
        label="Crear">
      </app-button>

      <app-button 
        type="secondary"
        (click)="resetForm()"
        label="Cancelar">
      </app-button>
    </div>
  </section>
</form> 