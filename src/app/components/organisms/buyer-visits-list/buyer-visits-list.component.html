<div class="buyer-visits-list">

  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando visitas...</p>
  </div>

  <div *ngIf="error" class="error-state">
    <i class="material-icons">error</i>
    <p>Error al cargar las visitas. Por favor, intente nuevamente.</p>
    <button (click)="loadVisits()" class="retry-button">
      Reintentar
    </button>
  </div>

  <div *ngIf="!loading && !error && visits.length === 0" class="empty-state">
    <i class="material-icons">event_busy</i>
    <p>No tienes visitas programadas</p>
  </div>

  <div *ngIf="!loading && !error && visits.length > 0" class="visits-container">
    <div *ngFor="let visit of visits" class="visit-card">
      <div class="visit-header">
        <h3 class="property-name">Visita Programada</h3>
      </div>

      <div class="visit-details">
        <div class="detail-item">
          <i class="material-icons">event</i>
          <span>{{visit.startDate | date:'EEEE d MMMM, y'}}</span>
        </div>
        <div class="detail-item">
          <i class="material-icons">schedule</i>
          <span>{{visit.startDate | date:'h:mm a'}} - {{visit.endDate | date:'h:mm a'}}</span>
        </div>
        <div class="detail-item">
          <i class="material-icons">email</i>
          <span>{{visit.buyerEmail}}</span>
        </div>
      </div>

      <div class="visit-actions">
        <button class="cancel-button" (click)="cancelVisit(visit.id)">
          Cancelar visita
        </button>
      </div>
    </div>
  </div>
</div> 